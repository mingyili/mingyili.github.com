/*!
 * Last Update : 2016-02-25 04:04:09
 */
function shareywk(a,b,c,d,e,f){a.config({debug:wxConfig.debug,appId:wxConfig.appId,timestamp:wxConfig.timestamp,nonceStr:wxConfig.nonceStr,signature:wxConfig.signature,jsApiList:wxConfig.jsApiList}),a.error(function(a){}),a.ready(function(){a.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"],success:function(g){var h=g.checkResult;h.onMenuShareAppMessage&&h.onMenuShareTimeline&&setShare(a,b,c,d,e,f)}})})}function setShare(a,b,c,d,e,f){function g(){return function(){return!0}}var h={},i=[];if("undefined"!=typeof hide_menus&&(i=hide_menus),"undefined"!=typeof hideShareFCircle&&i.push("menuItem:share:timeline"),"object"==typeof b?(b.desc&&b.desc.length>0&&(b.subject=b.subject+"("+b.desc+")"),h.appId=wxConfig.appId,h.title="undefined"!=typeof b.title?b.title:document.title,h.desc="undefined"!=typeof b.subject?b.subject:document.title,h.link="undefined"!=typeof b.link?b.link:window.location.href,h.imgUrl="undefined"!=typeof b.pic_url?b.pic_url:"",h.type="undefined"!=typeof b.type?b.type:"link",h.dataUrl="undefined"!=typeof b.dataUrl?b.dataUrl:""):(h.appId=wxConfig.appId,h.title="undefined"!=typeof prd_title?prd_title:"undefined"!=typeof title?title:document.title,h.desc="undefined"!=typeof prd_desc?prd_desc:"undefined"!=typeof desc?desc:document.title,h.link="undefined"!=typeof prd_href?prd_href:"undefined"!=typeof link?link:window.location.href,h.imgUrl="undefined"!=typeof prd_pic_url?prd_pic_url:"undefined"!=typeof imgUrl?imgUrl:"",h.type="undefined"!=typeof share_type?share_type:"link",h.dataUrl="undefined"!=typeof share_dataUrl?share_dataUrl:""),wxConfig.shareUniKey&&h.link.indexOf("UniqueKey=")<=-1){var j=wxConfig.shareUniKey;j=h.link.indexOf("?")>-1?"&UniqueKey="+j:"?UniqueKey="+j,h.link=h.link+j}var k={favorite:!1,ready:g(),cancel:function(){c&&c("cancle_fun")},fail:function(){e&&e("fail_fun")},confirm:function(){if(d&&(b.data?d(b.data,"friend"):d("friend")),"undefined"==typeof Collect);else if("function"==typeof Collect){var a={},c={};a.collectUrl=collectUrl,a.active=2;var e=new Collect;c=e.count(a)}},complete:function(){complete_fun&&complete_fun()}};newShare(a,h,k),0==f&&hideOptionMenu(a),i.length>0&&a.hideMenuItems({menuList:i})}function newShare(a,b,c){a.onMenuShareAppMessage({title:b.title,desc:b.desc,link:b.link,imgUrl:b.imgUrl,type:b.type,dataUrl:b.dataUrl,trigger:function(a){c.ready()},success:function(){c.confirm()},cancel:function(){c.cancel()},fail:function(a){c.fail()}}),a.onMenuShareTimeline({title:b.desc,desc:b.title,link:b.link,imgUrl:b.imgUrl,trigger:function(a){c.ready()},success:function(){c.confirm()},cancel:function(){c.cancel()},fail:function(a){c.fail()}}),a.onMenuShareQQ({title:b.title,desc:b.desc,link:b.link,imgUrl:b.imgUrl,trigger:function(a){c.ready()},complete:function(a){c.complete()},success:function(a){c.confirm()},cancel:function(a){c.cancel()},fail:function(a){c.fail()}}),a.onMenuShareWeibo({title:b.title,desc:b.desc,link:b.link,imgUrl:b.imgUrl,trigger:function(a){c.ready()},complete:function(a){c.complete()},success:function(a){c.confirm()},cancel:function(a){c.cancel()},fail:function(a){c.fail()}})}function hideOptionMenu(a){a.hideOptionMenu()}function showOptionMenu(a){a.showOptionMenu()}$(document).on("click",".j_share",function(){$.share()}),$.share=function(){var a='<div class="popup guide_pop"><div class="share_cont"><i class="wx_arrowIcon pull-right"></i><p>请点击右上角</p><p>通过 <i class="wx_sendIcon"></i>【发送给朋友】功能</p><p>把消息告诉小伙伴哟～</p></div><a class="wx_guide_close close-popup"><i class="wx_closeIcon"></i></a></div>';$.popup(a)},$(document).on("click",".j_follow",function(){var a=$(this),b=void 0!=a.data("text")?a.data("text"):"长按二维码识别，关注我们";$.follow(b)}),$.follow=function(a,b){a||(a="长按二维码识别，关注我们"),b||(b=API.FollowImg);var c='<div class="popup guide_pop"><div class="follow_cont"><img src="'+b+'"/><p class="small">'+a+'</p></div><a class="wx_guide_close close-popup"><i class="wx_closeIcon"></i></a></div>';$.popup(c)},function(){function a(){var a=$(c);b=[],a.each(function(){var a=$(this),c=a.attr("src");c&&b.push(c)})}var b=[],c=".viewimg img";"undefined"!=typeof wx&&wx.ready(function(){wx.checkJsApi({jsApiList:["previewImage"],success:function(d){var e=d.checkResult;e.previewImage&&(a(),$(c).live("click",function(){var a=$(this).attr("src");b.indexOf(a)<0&&b.push(a),wx.previewImage({current:a,urls:b})}))}})})}();